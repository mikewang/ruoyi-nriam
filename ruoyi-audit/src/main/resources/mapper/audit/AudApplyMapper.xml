<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.audit.mapper.AudApplyMapper">
  <resultMap id="BaseResultMap" type="com.ruoyi.audit.domain.AudApply">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Feb 06 13:01:58 CST 2021.
    -->
    <id column="ApplyID" jdbcType="INTEGER" property="applyid" />
    <result column="ApplyType" jdbcType="VARCHAR" property="applytype" />
    <result column="RelatedID" jdbcType="INTEGER" property="relatedid" />
    <result column="ApplyUserID" jdbcType="INTEGER" property="applyuserid" />
    <result column="ApplyTime" jdbcType="VARCHAR" property="applytime" />
    <result column="ApplyReason" jdbcType="VARCHAR" property="applyreason" />
    <result column="AuditUserID" jdbcType="INTEGER" property="audituserid" />
    <result column="AuditTime" jdbcType="VARCHAR" property="audittime" />
    <result column="AuditOpinion" jdbcType="VARCHAR" property="auditopinion" />
    <result column="ApplyStatus" jdbcType="INTEGER" property="applystatus" />
  </resultMap>

  <insert id="insertAudApply" parameterType="com.ruoyi.audit.domain.AudApply" useGeneratedKeys="true"
          keyProperty="applyid">

    insert into Aud_Apply ( ApplyType, RelatedID,
      ApplyUserID, ApplyTime, ApplyReason, 
      AuditUserID, AuditTime, AuditOpinion, 
      ApplyStatus)
    values (#{applytype,jdbcType=VARCHAR}, #{relatedid,jdbcType=INTEGER},
      #{applyuserid,jdbcType=INTEGER}, #{applytime,jdbcType=VARCHAR}, #{applyreason,jdbcType=VARCHAR}, 
      #{audituserid,jdbcType=INTEGER}, #{audittime,jdbcType=VARCHAR}, #{auditopinion,jdbcType=VARCHAR}, 
      #{applystatus,jdbcType=INTEGER})
  </insert>

  <select id="selectAudApplyById" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    select ApplyID, ApplyType, RelatedID, ApplyUserID, ApplyTime, ApplyReason, AuditUserID,
           AuditTime, AuditOpinion, ApplyStatus
    from Aud_Apply
    where ApplyID = #{applyid,jdbcType=INTEGER}
  </select>

  <delete id="deleteAudApplyById" parameterType="java.lang.Integer">

    delete from Aud_Apply
    where ApplyID = #{applyid,jdbcType=INTEGER}
  </delete>

  <select id="selectApplyByTypeAndRelatedID" parameterType="com.ruoyi.audit.domain.AudApply" resultMap="BaseResultMap">
    select top 1 ApplyID, ApplyType, RelatedID, ApplyUserID, ApplyTime, ApplyReason, AuditUserID,
           AuditTime, AuditOpinion, ApplyStatus
    from Aud_Apply
    where ApplyType = #{applytype,jdbcType=VARCHAR} and RelatedID = #{relatedid,jdbcType=INTEGER}
    order by ApplyID desc
  </select>


  <update id="updateByPrimaryKey" parameterType="com.ruoyi.audit.domain.AudApply">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Feb 06 13:01:58 CST 2021.
    -->
    update Aud_Apply
    set ApplyType = #{applytype,jdbcType=VARCHAR},
      RelatedID = #{relatedid,jdbcType=INTEGER},
      ApplyUserID = #{applyuserid,jdbcType=INTEGER},
      ApplyTime = #{applytime,jdbcType=VARCHAR},
      ApplyReason = #{applyreason,jdbcType=VARCHAR},
      AuditUserID = #{audituserid,jdbcType=INTEGER},
      AuditTime = #{audittime,jdbcType=VARCHAR},
      AuditOpinion = #{auditopinion,jdbcType=VARCHAR},
      ApplyStatus = #{applystatus,jdbcType=INTEGER}
    where ApplyID = #{applyid,jdbcType=INTEGER}
  </update>

  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat Feb 06 13:01:58 CST 2021.
    -->
    select ApplyID, ApplyType, RelatedID, ApplyUserID, ApplyTime, ApplyReason, AuditUserID, 
    AuditTime, AuditOpinion, ApplyStatus
    from Aud_Apply
  </select>
</mapper>